import{r as b,h as r,a as u,g as w}from"./index-b0c7d524.js";const E='siigo-input-hint{display:block;width:100%;position:relative;font-size:"NunitoSans", Sans-serif;font-size:12px;color:#666666;line-height:16px}siigo-input-hint .siigo-input-hint--text{line-height:16px;color:inherit;padding:5px 10px;margin:0;text-align:left;padding:5px 10px}',k=class{constructor(t){b(this,t)}render(){if(this.hint&&this.hint.trim())return r("div",{class:"siigo-input-hint--text"},r("p",null,this.hint))}};k.style=E;function S(){return"sxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const i=Math.random()*16|0;return(t=="x"?i:i&3|8).toString(16)})}function I(t,i,e){Object.entries(t).forEach(n=>{let s=document.querySelector(`link[href="${n[1]}"]`);s||(s=document.createElement("link"),s.setAttribute("rel","stylesheet"),s.setAttribute("href",`${n[1]}`),document.head.appendChild(s));const o=i?i.getElementById(`wc-${e}`):null;o&&o.insertAdjacentHTML("beforebegin",s.outerHTML)})}let C="prod";const T={dev:{cssUrl:"https://saqasiigocontrols.blob.core.windows.net/css/main.min.css",fontAwesomeUrl:"https://saqasiigocontrols.blob.core.windows.net/css/fonts/fontawesome/css/all.css"},prod:{cssUrl:"https://siigocontrols.azureedge.net/css/main.min.css",fontAwesomeUrl:"https://siigocontrols.azureedge.net/css/fonts/fontawesome/css/all.css"}},L=T[C];function A(t){const i=document.createElement("button");i.setAttribute("btn-clean-button",""),i.classList.add("siigo-input-atom__btn-clean-button"),i.addEventListener("click",n=>{t.value="",t.dispatchEvent(new Event("input")),t.focus()});const e='<i class="fas fa-times"></i>';return i.innerHTML=e,i}function V(t,i,e,n){if(t&&!e.querySelector("button[btn-clean-button]")){let o=A(i);o.onclick=a=>{n(a)},e.appendChild(o)}const s=e.querySelector("[btn-clean-button]");!t&&s&&s.remove()}function B(t,i){return t.replace(/^0+[?(-\,)]+|[?(-\.)]+/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,i)}function q(t,i){let e=t.replace(/[?(-\,)]+|[?(-\.)]+/g,"");return e=e.length>i?e.substring(0,i):e,e}function P(t,i,e,n){let s=x(e,t,i,n);return e.value=t>0&&e.value.length>s?e.value.slice(0,s):e.value,s}function $(t,i,e,n,s,o){let a,l=t==null?void 0:t.value.replaceAll(e,"");if(l=l.indexOf(".")>0?l.replaceAll(".",""):l.indexOf(",")>0&&l.replaceAll(",",""),l.length>i)if(a=t.value.split(e),a.length>1){let d=x(t,i,e,o);n?t.value=t.value.slice(0,d):t.value=s<=a[1].length?l.slice(0,i+a[1].length+1):l.slice(0,i+s+1)}else a[0].length>i&&(t.value=l.slice(0,i));return t==null?void 0:t.value}function x(t,i,e,n){const s=t.value.split(e);let o=s[0].split(n).length-1,a=s.length>1?s[1].length+1:0;return i+o+a}function f(t,i,e,n,s,o,a){if(t.getAttribute("input-type")!=="decimal")return;$(t,s,i,o,e,a);let l=t.value.replace(/[^0-9(\.)?(\,)?]+/g,"");const d=i==="."?",":".";l=l.replace(new RegExp(`(\\${d})+`,"gi"),"");const p=l.split(new RegExp(`(\\${i})+`,"gi"));let c=p[0]||"";const v=p[1]||"",_=p[2]||"";let h=B(c,d)+v+q(_,e);(h.length&&[",","."].includes(h[0])||!h.length&&c[0]==="0"||c.length===1&&c[0]==="0")&&(h=`${h}`),t.value=h;const y=H(n,t,i);return M(t,y),h}function H(t,i,e){const n=i.value;if(g===e)return n.split(e)[0].length+1;const s=e==="."?",":".";if(t){let o=0,a=0;for(;o<=n.length;){if(t.charAt(o)===s&&o++,n.charAt(a)===s&&a++,t.charAt(o)!==n.charAt(a))return g==="deleteContentBackward"||g==="deleteContentForward"?a:a+1;o++,a++}}else return n.length;return n.length}function M(t,i){if(t.setSelectionRange)t.setSelectionRange(i,i);else if(t.createTextRange){let e=t.createTextRange();e.collapse(!0),e.moveEnd("character",i),e.moveStart("character",i),e.select()}}let g="";function z(t){g=t.data?t.data:t.inputType}function D(t,i,e){const n=t.value.split(i);let s=n[0]?t.value.split(i)[0]:"",o=n[1]?t.value.split(i)[1]:"0";for(let a=o.length;a<e;a++)o=o+"0";o=o.length>e?o.substring(0,e):o,t.value=s===""?"":`${n[0]}${i}${o}`}function R(t,i,e,n,s,o,a,l,d){return e=e||2,f(t,i,e,n,s,o,a),t.oninput=p=>{z(p),f(t,i,e,n,s,o,a),l()},t.onblur=()=>{D(t,i,e),d()},t==null?void 0:t.value}function N(t){t.checkValidity=()=>{if(!t.value.length&&!t.required)return!0;if(t.value.length){let i=/^([-+.]*\w)+[-+.]*@([\w-]+\.)+[\w-]{2,}$/g.test(t.value);return i?t.setCustomValidity(""):t.setCustomValidity("Por favor introduzca una dirección de correo electrónico válida. ejemplo@email.com"),i}}}function m(t,i){if(t.getAttribute("input-type")!=="integer")return;const e=t.value.trim()||"";let n=e;n=n.replace(/[^0-9]+/g,""),!n.replace(/^0+/,"").length&&n.length&&n[0]==="0"?n="0":n=n.replace(/^0+/,""),n=n.replace(/\B(?=(\d{3})+(?!\d))/g,i),e.length&&e[0]==="-"&&(n=`-${n}`),t.value=n,t.dispatchEvent(new CustomEvent("onInputEvent",{bubbles:!0}))}function j(t,i){m(t,i),t.oninput=()=>m(t,i)}function F(t){t.oninput=()=>{if(t.getAttribute("input-type")!=="number")return;const i=t.value.trim()||"";let e=i;e=e.replace(/[^0-9]+/g,""),i.length&&i[0]==="-"&&(e=`-${e}`),t.value=e,t.dispatchEvent(new CustomEvent("onInputEvent",{bubbles:!0}))}}function O(t){const i=document.createElement("button");i.setAttribute("btn-show-password",""),i.classList.add("siigo-input-atom__btn-show-password");const e=n=>`
    <i class="${n?"fa fa-eye":"fa fa-eye-slash"}"></i>
  `;return i.addEventListener("click",n=>{i.toggleAttribute("show"),t.type=i.hasAttribute("show")?"text":"password",i.innerHTML=e(i.hasAttribute("show"))}),i.innerHTML=e(i.hasAttribute("show")),i}function U(t,i){i.querySelector("[btn-show-password]")||i.appendChild(O(t));const e=i.querySelector("[btn-show-password]");t.getAttribute("input-type")!=="password"&&e.remove(),!t.value.length&&e?e.style.display="none":e.style.display="initial"}const K=':host{display:inline-block;width:100%;min-width:67px}:host .wc--siigo.wc---input,:host .container{display:block;width:inherit;height:inherit;position:relative}:host .siigo-input-atom__container{display:flex;align-items:center;flex-direction:row;width:auto;height:32px;position:relative;box-sizing:border-box;border:1px solid #d8d8d8;border-radius:4px;background:white;padding-left:9px}:host .siigo-input-atom__container:hover{background:#ebf7ff}:host .siigo-input-atom__container.focus{border-color:#009dff;box-shadow:inset 0 0 0 1px #009dff;background:white}:host .siigo-input-atom__container.focus label.filled{color:#009dff}:host .siigo-input-atom__input{display:flex;align-items:center;position:relative;width:100%;height:100%;cursor:text;padding-right:9px}:host .siigo-input-atom__input label{position:absolute;display:flex;align-items:center;padding:0;margin:0;text-align:left;width:auto;max-width:100%;height:100%;color:#a4a4a4;font-size:14px;cursor:inherit;user-select:none;line-height:16px;border-radius:4px;transition:0.1s ease-out;transform:translateY(0%);transform-origin:left top}:host .siigo-input-atom__input label span{font-size:14px;line-height:16px;font-family:"NunitoSans", Sans-serif;color:inherit;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;position:relative}:host .siigo-input-atom__input label span.label-required{padding-right:6px;margin-right:5px}:host .siigo-input-atom__input label.filled{padding:0 3px;color:#666666;top:-10px;width:auto;height:auto;background:transparent}:host .siigo-input-atom__input label.filled span{font-size:12px;font-weight:bold}:host .siigo-input-atom__input label.filled .siigo-input-atom__input-label-border{background:white}:host .siigo-input-atom__input label.filled .label-required{margin-right:0}:host .siigo-input-atom__input ::slotted(input){width:100%;height:100%;border:0;outline:0;background:transparent;color:#37465a;caret-color:#009dff;font-size:14px;font-size:"NunitoSans", Sans-serif;margin:0;padding:0}:host .siigo-input-atom__input ::slotted(input):hover{background:transparent}:host .siigo-input-atom__input ::slotted(input)::placeholder{color:#a4a4a4}:host .siigo-input-atom__input ::slotted(input)::-webkit-outer-spin-button,:host .siigo-input-atom__input ::slotted(input)::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}:host .siigo-input-atom__input ::slotted(input)[type=number]{-moz-appearance:textfield}:host .siigo-input-atom__input-label-border{position:absolute;top:50%;left:0;height:4px;width:100%;z-index:-1}:host .siigo-input-atom__prefix{display:flex;justify-content:center;align-items:center;margin:0;padding:0;color:#666666;font-size:"NunitoSans", Sans-serif;font-size:14px;white-space:pre;cursor:text;user-select:none;width:fit-content;min-width:fit-content;max-width:fit-content}:host .siigo-input-atom__prefix span{font-weight:900}:host .siigo-input-atom__sufix{display:flex;justify-content:center;align-items:center;margin:0;padding:0;color:#666666;font-size:"NunitoSans", Sans-serif;font-size:14px;white-space:pre;cursor:text;user-select:none;width:fit-content;min-width:fit-content;max-width:fit-content}:host .siigo-input-atom__sufix span{font-weight:900;padding-right:9px}:host .siigo-input-atom__vertical-separator{height:16px;width:1px;background:#d8d8d8;margin:0 10px}:host .siigo-input-atom__btn-show-password,:host .siigo-input-atom__btn-clean-button{border:none;outline:none;cursor:pointer;background:transparent;color:#009dff;width:24px;height:24px;margin:0;padding:0;display:flex;justify-content:center;align-items:center;line-height:16px}:host .siigo-input-atom__actions{display:flex;justify-content:center;align-items:center}:host .siigo-input-atom__actions *:last-child{margin-right:4px}:host .invalid .siigo-input-atom__container{border-color:#d42143;background:white}:host .invalid .siigo-input-atom__container:hover{background:#fff0f4}:host .invalid .siigo-input-atom__container:hover label.filled{background:transparent}:host .invalid .siigo-input-atom__container.focus{border-color:#d42143;box-shadow:inset 0 0 0 1px #d42143}:host .invalid .siigo-input-atom .focus{background:100% !important}:host .invalid .siigo-input-atom__input label{color:#a4a4a4}:host .invalid .siigo-input-atom__input label.filled{color:#d42143}:host .invalid .siigo-input-atom__input ::slotted(input){background:inherit;color:#37465a;caret-color:#d42143}:host .invalid .siigo-input-atom__input ::slotted(input):hover{background:inherit}:host .invalid .siigo-input-atom__input ::slotted(input)::placeholder{color:#a4a4a4}:host .invalid siigo-input-hint{color:#d42143}:host .disabled,:host .readonly{color:#a4a4a4}:host .disabled .siigo-input-atom__container,:host .readonly .siigo-input-atom__container{background:#eeeeee;border-color:#eeeeee;cursor:default;user-select:none;pointer-events:none}:host .disabled .siigo-input-atom__input *,:host .disabled .siigo-input-atom__prefix *,:host .readonly .siigo-input-atom__input *,:host .readonly .siigo-input-atom__prefix *{color:#a4a4a4;background:#eeeeee;cursor:default}:host .disabled .siigo-input-atom__input label.filled,:host .disabled .siigo-input-atom__prefix label.filled,:host .readonly .siigo-input-atom__input label.filled,:host .readonly .siigo-input-atom__prefix label.filled{background:transparent;color:#a4a4a4}:host .disabled .siigo-input-atom__sufix *,:host .readonly .siigo-input-atom__sufix *{color:#a4a4a4;background:#eeeeee;cursor:default}:host .disabled .siigo-input-atom__sufix label.filled,:host .readonly .siigo-input-atom__sufix label.filled{background:transparent;color:#a4a4a4}:host .disabled .siigo-input-atom__input-label-border,:host .readonly .siigo-input-atom__input-label-border{background:transparent}:host .disabled .siigo-input-atom__vertical-separator,:host .readonly .siigo-input-atom__vertical-separator{background:#d8d8d8}:host .disabled .siigo-input-atom__actions,:host .readonly .siigo-input-atom__actions{display:none}:host .disabled siigo-input-hint,:host .readonly siigo-input-hint{color:#a4a4a4}:host .disabled .siigo-input-atom__input label{color:#a4a4a4;top:initial;left:initial;font-weight:initial}:host .disabled .siigo-input-atom__input ::slotted(input){visibility:hidden}:host .disabled .siigo-input-atom__input-label-border{background:transparent;display:none}:host .readonly .filled *{background:transparent}:host .readonly .filled .siigo-input-atom__input-label-border{display:none}:host .readonly ::slotted(input){cursor:not-allowed;color:#a4a4a4}:host .label-required::after{content:"*";color:#ffa532;font-weight:700;position:absolute;right:0}:host .hidden-hint siigo-input-hint{display:none}',W=class{constructor(t){b(this,t),this.focusEventEmitter=u(this,"focus",7),this.blurEventEmitter=u(this,"blur",7),this.inputEventEmitter=u(this,"input",7),this.changeEventEmitter=u(this,"change",7),this.keydownEventEmitter=u(this,"keydown",7),this.keyupEmitter=u(this,"keyup",7),this.cleanButtonEmitter=u(this,"pressCleanButton",7),this.inputElement=document.createElement("input"),this.dotSeparator=".",this.commaSeparator=",",this.keyId=S(),this.dataTest=this.keyId,this.isValid=!0,this.validator=async()=>!0,this.disabled=!1,this.readonly=!1,this.required=!1,this.countWhitDecimal=!1,this.cleanButton=!1}componentWillLoad(){this.updateData()}componentWillUpdate(){this.updateData()}componentDidRender(){this.changeLabelPosition(),this.updateDirectives()}componentDidLoad(){I(L,this.hostElement.shadowRoot,this.keyId),this.hostElement.querySelector("input")||this.hostElement.append(this.inputElement),this.changeLabelPosition(),this.updateDirectives()}updateData(){this.label=this.label||"",this.name=this.name||"",this.value=this.value||"",this.prefixText=this.prefixText||"",this.sufixText=this.sufixText||"",this.placeholder=this.placeholder||"",this.setInputType(),this.setAlign(),this.setPrefixType(),this.setSufixType(),this.setThousandsSeparator(),this.setDecimalSeparator(),this.setCurrentHint(),this.changeLabelPosition()}updateDirectives(){for(;this.actionsElement.childNodes.length;)this.actionsElement.childNodes[0].remove();this.type==="password"?U(this.inputElement,this.actionsElement):this.type==="integer"?j(this.inputElement,this.thousandsSeparator):this.type==="decimal"?this.oldValue=R(this.inputElement,this.decimalSeparator,this.decimalDigit,this.oldValue,this.maxLength,this.countWhitDecimal,this.thousandsSeparator,this.onInputEvent.bind(this),this.onBlurInputEvent.bind(this)):this.type==="number"?F(this.inputElement):this.type==="email"&&N(this.inputElement),V(this.cleanButton&&this.type!=="password",this.inputElement,this.actionsElement,this.cleanButtonEmit.bind(this))}cleanButtonEmit(t){this.cleanButtonEmitter.emit(t)}setInputType(){["decimal","email","integer","number","password","text"].includes(this.type)||(this.type="text")}setPrefixType(){["icon","text"].includes(this.prefixType)||(this.prefixType="text")}setSufixType(){["icon","text"].includes(this.sufixType)||(this.sufixType="text")}setAlign(){["left","right"].includes(this.align)||(this.align="left")}setDecimalSeparator(){[this.dotSeparator,this.commaSeparator].includes(this.decimalSeparator)||(this.decimalSeparator=this.dotSeparator)}setThousandsSeparator(){[this.dotSeparator,this.commaSeparator].includes(this.thousandsSeparator)||(this.thousandsSeparator=this.commaSeparator),this.decimalSeparator===this.commaSeparator&&(this.thousandsSeparator=this.dotSeparator)}setCurrentHint(){if(this.currentHint=this.hint||"",this.validField===!1){this.isValid=!1,this.currentHint=this.errorMessage||this.inputElement.validationMessage;return}this.selectedInput&&this.inputElement&&!this.isValid&&(this.required&&!this.value.length?this.currentHint=this.requiredMessage||this.inputElement.validationMessage:this.currentHint=this.errorMessage||this.inputElement.validationMessage)}async setValidator(t){this.validator=t||this.validator}async checkValidity(){var t;return this.selectedInput?((t=this.inputElement)===null||t===void 0?void 0:t.checkValidity())&&this.validator():!0}async validate(){this.inputContainerElement&&(this.selectedInput=!0),this.isValid=await this.checkValidity(),this.setCurrentHint()}async getCurrentHint(){return this.currentHint||""}async resetInput(){this.value=null,this.isValid=!0,this.hint=""}async setErrorInput(t){this.isValid=!1,this.errorMessage=t,this.requiredMessage=t}onFocusInputEvent(){this.inputContainerElement&&(this.focusEventEmitter.emit(),this.inputContainerElement.classList.add("focus"),this.selectedInput=!0,this.changeLabelPosition())}onBlurInputEvent(){this.inputContainerElement.classList.remove("focus"),this.validate(),this.changeLabelPosition(),this.blurEventEmitter.emit()}onInputEvent(t){t==null||t.stopImmediatePropagation();const i=this.sliceValue(this.inputElement.value);this.value=this.inputElement.value=i,this.validate(),this.inputEventEmitter.emit(this.value)}onChangeInputEvent(t){t.stopImmediatePropagation(),this.value=this.inputElement.value,this.changeEventEmitter.emit(this.value)}onKeydownInputEvent(t){t.stopImmediatePropagation(),t.code==="Enter"&&this.keyupEmitter.emit(),this.keydownEventEmitter.emit(t)}sliceValue(t){let i=0;return this.type==="decimal"&&(this.sumaLength=P(this.maxLength,this.decimalSeparator,this.inputElement,this.thousandsSeparator)),this.type==="integer"&&(i=t.split(this.thousandsSeparator).length-1,this.sumaLength=this.maxLength+i),(this.type==="text"||this.type==="number"||this.type==="email")&&(this.sumaLength=this.maxLength),this.maxLength>0&&t.length>this.sumaLength&&(t=t.slice(0,this.sumaLength)),t}changeLabelPosition(){const t=this.inputContainerElement?this.inputContainerElement.querySelector("label"):null;if(!t)return;if(this.disabled){t.style.left="initial";return}const i=3,e=Math.round(this.prefixElement?this.prefixElement.getBoundingClientRect().width:0),n=Math.round(this.sufixElement?this.sufixElement.getBoundingClientRect().width:0),s=this.value.length||this.inputContainerElement.classList.contains("focus")||n?`${(e+i)*-1}px`:"initial";t.style.left=s,s==="initial"?t.classList.remove("filled"):t.classList.add("filled")}getStandardType(){if(["decimal","integer","number"].includes(this.type))return"text";if(["password","text","email"].includes(this.type))return this.type}renderVerticalSeparator(){return r("div",{class:"siigo-input-atom__vertical-separator"})}renderPrefix(){if(!this.prefixText.length)return;const t=this.prefixType==="icon"?r("i",{class:this.prefixText}):r("span",null,this.prefixText.slice(0,5).toLocaleUpperCase());return r("div",{ref:i=>this.prefixElement=i,class:"siigo-input-atom__prefix",onClick:i=>this.inputElement.focus()},t,this.renderVerticalSeparator())}renderSufix(){if(!this.sufixText.length)return;const t=this.sufixType==="icon"?r("i",{class:this.sufixText}):r("span",null,this.sufixText.slice(0,5).toLocaleUpperCase());return r("div",{ref:i=>this.sufixElement=i,class:"siigo-input-atom__sufix",onClick:i=>this.inputElement.focus()},this.renderVerticalSeparator(),t)}renderActions(){return r("div",{ref:t=>this.actionsElement=t,class:"siigo-input-atom__actions"})}renderLabel(){if(!this.label.length)return"";const t=this.value.length||this.inputContainerElement&&this.inputContainerElement.classList.contains("focus")?"filled":"",i=this.required&&!this.disabled&&!this.readonly&&"label-required";return r("label",{htmlFor:this.name,class:`${t}`},r("span",{class:`${i}`},this.label),r("div",{class:"siigo-input-atom__input-label-border"}))}renderInput(){return this.inputElement.disabled=this.disabled||this.readonly,this.inputElement.name=this.name,this.inputElement.placeholder=this.placeholder,this.inputElement.autocomplete=this.autocomplete?"on":"off",this.inputElement.readOnly=this.readonly,this.inputElement.required=this.required,this.inputElement.id=this.id,this.inputElement.type=this.getStandardType(),this.inputElement.value=this.value,this.inputElement.setAttribute("input-type",this.type),this.minLength&&(this.inputElement.minLength=this.minLength),this.autofocus&&this.inputElement.setAttribute("autofocus",""),this.pattern&&(this.inputElement.pattern=this.pattern),this.inputElement.onfocus=this.onFocusInputEvent.bind(this),this.inputElement.onblur=this.onBlurInputEvent.bind(this),this.inputElement.oninput=this.onInputEvent.bind(this),this.inputElement.onchange=this.onChangeInputEvent.bind(this),this.inputElement.onkeydown=this.onKeydownInputEvent.bind(this),this.inputElement.style.textAlign=this.align,r("div",{onClick:t=>this.inputElement.focus(),class:"siigo-input-atom__input"},this.renderLabel()," ",r("slot",null))}render(){return r("div",{id:`wc-${this.keyId}`,"data-test":this.dataTest,"data-version":"1.3.0",class:"wc--siigo dsm-siigo"},r("div",{class:{container:!0,disabled:this.disabled,readonly:this.readonly,invalid:!this.isValid,"hidden-hint":this.hiddenHint}},r("div",{ref:t=>this.inputContainerElement=t,class:"siigo-input-atom__container"},this.renderPrefix(),this.renderInput(),this.renderActions(),this.renderSufix()),r("siigo-input-hint",{hint:this.currentHint})))}get hostElement(){return w(this)}};W.style=K;export{W as siigo_input_atom,k as siigo_input_hint};
